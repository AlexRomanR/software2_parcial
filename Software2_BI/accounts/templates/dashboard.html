{# accounts/templates/dashboard.html #}
{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<div class="container-fluid py-4">
  <!-- Hero Section -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="hero-section bg-gradient-primary text-white rounded-4 p-5 position-relative overflow-hidden">
        <div class="hero-pattern"></div>
        <div class="row align-items-center position-relative">
          <div class="col-lg-8">
            <div class="hero-content">
              <h1 class="display-4 fw-bold mb-3">
                <i class="fas fa-rocket me-3"></i>
                ¡Bienvenido de vuelta!
              </h1>
              <p class="lead mb-4 opacity-90">
                Tu plataforma de análisis de datos está lista. Transforma información en insights poderosos con herramientas de vanguardia.
              </p>
              <div class="d-flex align-items-center">
                <div class="bg-white bg-opacity-20 rounded-pill px-4 py-2">
                  <i class="fas fa-check-circle me-2"></i>
                  <small class="fw-semibold" style="
    color: black;
">Sesión iniciada correctamente</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 text-center">
            <div class="hero-illustration">
              <div class="floating-card">
                <i class="fas fa-chart-line fs-1 text-white"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="row mb-5">
    <div class="col-12">
      <h2 class="fw-bold mb-4">
        <i class="fas fa-bolt text-warning me-2"></i>
        Acciones Rápidas
      </h2>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="quick-action-card h-100" data-action="upload">
        <div class="card border-0 shadow-sm h-100 quick-action">
          <div class="card-body text-center p-4">
            <div class="action-icon bg-primary bg-opacity-10 rounded-circle p-4 mb-3 mx-auto">
              <i class="fas fa-cloud-upload-alt text-primary fs-2"></i>
            </div>
            <h5 class="fw-bold mb-2">Subir Dataset</h5>
            <p class="text-muted small mb-3">Importa archivos CSV o SQL para comenzar tu análisis</p>
            <div class="action-btn">
              <i class="fas fa-arrow-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="quick-action-card h-100" data-action="dashboard">
        <div class="card border-0 shadow-sm h-100 quick-action">
          <div class="card-body text-center p-4">
            <div class="action-icon bg-success bg-opacity-10 rounded-circle p-4 mb-3 mx-auto">
              <i class="fas fa-chart-pie text-success fs-2"></i>
            </div>
            <h5 class="fw-bold mb-2">Ver Dashboards</h5>
            <p class="text-muted small mb-3">Explora visualizaciones interactivas de tus datos</p>
            <div class="action-btn">
              <i class="fas fa-arrow-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
       <div class="quick-action-card h-100" data-action="notificaciones">
        <div class="card border-0 shadow-sm h-100 quick-action">
          <div class="card-body text-center p-4">
            <div class="action-icon bg-info bg-opacity-10 rounded-circle p-4 mb-3 mx-auto">
              <i class="fas fa-tachometer-alt text-info fs-2"></i>
            </div>
            <h5 class="fw-bold mb-2">KPIs & Alertas</h5>
            <p class="text-muted small mb-3">Monitorea métricas clave y configura alertas</p>
            <div class="action-btn">
              <i class="fas fa-arrow-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="quick-action-card h-100" data-action="analyze">
        <div class="card border-0 shadow-sm h-100 quick-action">
          <div class="card-body text-center p-4">
            <div class="action-icon bg-warning bg-opacity-10 rounded-circle p-4 mb-3 mx-auto">
              <i class="fas fa-brain text-warning fs-2"></i>
            </div>
            <h5 class="fw-bold mb-2">Analizador IA</h5>
            <p class="text-muted small mb-3">Análisis inteligente de gráficas existentes</p>
            <div class="action-btn">
              <i class="fas fa-arrow-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>

  <!-- Features Grid -->
  <div class="row">
    <div class="col-12 mb-4">
      <h2 class="fw-bold mb-4">
        <i class="fas fa-magic text-primary me-2"></i>
        Todo lo que puedes hacer
      </h2>
    </div>

    <!-- Data Management -->
    <div class="col-lg-6 mb-4">
      <div class="feature-card h-100">
        <div class="card border-0 shadow-lg h-100">
          <div class="card-header bg-gradient-blue text-white border-0 py-4">
            <div class="d-flex align-items-center">
              <div class="feature-icon me-3">
                <i class="fas fa-database fs-3"></i>
              </div>
              <div>
                <h4 class="mb-1 fw-bold">Gestión de Datos</h4>
                <p class="mb-0 opacity-90">Administra tus datasets de forma eficiente</p>
              </div>
            </div>
          </div>
          <div class="card-body p-4">
            <div class="feature-list">
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-upload text-primary"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Subida de Archivos</h6>
                    <p class="text-muted small mb-0">Importa CSV, SQL (MySQL/PostgreSQL) con validación automática</p>
                  </div>
                </div>
              </div>
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-table text-success"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Explorador de Schema</h6>
                    <p class="text-muted small mb-0">Visualiza estructuras, tipos de datos y relaciones</p>
                  </div>
                </div>
              </div>
              <div class="feature-item">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-list text-info"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Lista de Datasets</h6>
                    <p class="text-muted small mb-0">Organiza y accede rápidamente a todos tus archivos</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Visualization & Analytics -->
    <div class="col-lg-6 mb-4">
      <div class="feature-card h-100">
        <div class="card border-0 shadow-lg h-100">
          <div class="card-header bg-gradient-green text-white border-0 py-4">
            <div class="d-flex align-items-center">
              <div class="feature-icon me-3">
                <i class="fas fa-chart-bar fs-3"></i>
              </div>
              <div>
                <h4 class="mb-1 fw-bold">Visualización & Analytics</h4>
                <p class="mb-0 opacity-90">Transforma datos en insights visuales</p>
              </div>
            </div>
          </div>
          <div class="card-body p-4">
            <div class="feature-list">
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-chart-line text-primary"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Dashboards Interactivos</h6>
                    <p class="text-muted small mb-0">Crea dashboards personalizados para cada dataset</p>
                  </div>
                </div>
              </div>
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-magic text-success"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Gráficas con IA</h6>
                    <p class="text-muted small mb-0">Genera visualizaciones usando lenguaje natural</p>
                  </div>
                </div>
              </div>
              <div class="feature-item">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-brain text-info"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Analizador Inteligente</h6>
                    <p class="text-muted small mb-0">IA que interpreta y explica tus gráficas</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Export & Sharing -->
    <div class="col-lg-6 mb-4">
      <div class="feature-card h-100">
        <div class="card border-0 shadow-lg h-100">
          <div class="card-header bg-gradient-orange text-white border-0 py-4">
            <div class="d-flex align-items-center">
              <div class="feature-icon me-3">
                <i class="fas fa-share-alt fs-3"></i>
              </div>
              <div>
                <h4 class="mb-1 fw-bold">Exportar & Compartir</h4>
                <p class="mb-0 opacity-90">Comparte insights de manera profesional</p>
              </div>
            </div>
          </div>
          <div class="card-body p-4">
            <div class="feature-list">
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-file-pdf text-primary"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Exportar a PDF</h6>
                    <p class="text-muted small mb-0">Genera reportes profesionales en formato PDF</p>
                  </div>
                </div>
              </div>
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-envelope text-success"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Envío por Email</h6>
                    <p class="text-muted small mb-0">Comparte reportes directamente por correo electrónico</p>
                  </div>
                </div>
              </div>
              <div class="feature-item">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-download text-info"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Múltiples Formatos</h6>
                    <p class="text-muted small mb-0">Exporta en PNG, SVG, Excel y más formatos</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Monitoring & Alerts -->
    <div class="col-lg-6 mb-4">
      <div class="feature-card h-100">
        <div class="card border-0 shadow-lg h-100">
          <div class="card-header bg-gradient-purple text-white border-0 py-4">
            <div class="d-flex align-items-center">
              <div class="feature-icon me-3">
                <i class="fas fa-bell fs-3"></i>
              </div>
              <div>
                <h4 class="mb-1 fw-bold">Monitoreo & Alertas</h4>
                <p class="mb-0 opacity-90">Mantente informado de cambios importantes</p>
              </div>
            </div>
          </div>
          <div class="card-body p-4">
            <div class="feature-list">
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-tachometer-alt text-primary"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">KPIs Personalizados</h6>
                    <p class="text-muted small mb-0">Define métricas clave para tu negocio</p>
                  </div>
                </div>
              </div>
              <div class="feature-item mb-3">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-exclamation-triangle text-success"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Alertas Inteligentes</h6>
                    <p class="text-muted small mb-0">Notificaciones automáticas cuando los datos cambian</p>
                  </div>
                </div>
              </div>
              <div class="feature-item">
                <div class="d-flex align-items-start">
                  <div class="feature-bullet me-3">
                    <i class="fas fa-clock text-info"></i>
                  </div>
                  <div>
                    <h6 class="fw-semibold mb-1">Monitoreo en Tiempo Real</h6>
                    <p class="text-muted small mb-0">Seguimiento continuo de tus métricas importantes</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Getting Started CTA -->
  <div class="row mt-5">
    <div class="col-12">
      <div class="cta-section bg-light rounded-4 p-5 text-center">
        <div class="row align-items-center">
          <div class="col-lg-8 mx-auto">
            <h3 class="fw-bold mb-3">
              <i class="fas fa-rocket text-primary me-2"></i>
              ¿Listo para comenzar?
            </h3>
            <p class="text-muted mb-4">
              Sube tu primer dataset y descubre el poder del análisis de datos con IA
            </p>
            <button class="btn btn-primary btn-lg px-5" onclick="startUpload()">
              <i class="fas fa-upload me-2"></i>
              Subir mi primer archivo
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Original links (commented for future reference) -->
<!--
<a href="http://127.0.0.1:8000/ingestion/upload/" class="btn btn-primary btn-lg mb-2 w-100">
  Subir archivo .sql o .csv
</a>
<a href="http://127.0.0.1:8000/ingestion/list/" class="btn btn-success btn-lg mb-2 w-100">
  Lista de archivos subidos
</a>
<a href="http://127.0.0.1:8000/ingestion/summary/" class="btn btn-info btn-lg w-100">
  Datos de los archivos subidos
</a>
<a href="http://127.0.0.1:8000/ingestion/prueba/" class="btn btn-warning btn-lg w-100">
  Ir al Chat
</a>
<a href="http://127.0.0.1:8000/ingestion/analyze-chart/" class="btn btn-warning btn-lg w-100 mt-2">
  Analizar gráfica con IA
</a>
-->

<style>
/* Gradients */
.bg-gradient-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.bg-gradient-blue {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.bg-gradient-green {
  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

.bg-gradient-orange {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.bg-gradient-purple {
  background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
}

/* Hero Section */
.hero-section {
  min-height: 300px;
  position: relative;
}

.hero-pattern {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 2px, transparent 2px),
    radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 2px, transparent 2px);
  background-size: 50px 50px;
}

.floating-card {
  background: rgba(255,255,255,0.2);
  border-radius: 20px;
  padding: 2rem;
  backdrop-filter: blur(10px);
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

/* Quick Actions */
.quick-action {
  transition: all 0.3s ease;
  cursor: pointer;
  border: 2px solid transparent;
}

.quick-action:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 35px rgba(0,0,0,0.1);
  border-color: rgba(102, 126, 234, 0.3);
}

.action-icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.quick-action:hover .action-icon {
  transform: scale(1.1);
}

.action-btn {
  position: absolute;
  bottom: 15px;
  right: 15px;
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 12px;
  opacity: 0;
  transition: all 0.3s ease;
}

.quick-action:hover .action-btn {
  opacity: 1;
  transform: translateX(-5px);
}

/* Feature Cards */
.feature-card {
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.feature-icon {
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  background: rgba(255,255,255,0.2);
}

.feature-bullet {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background: rgba(102, 126, 234, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.feature-item {
  padding: 15px;
  border-radius: 12px;
  transition: all 0.3s ease;
}

.feature-item:hover {
  background: rgba(102, 126, 234, 0.05);
  transform: translateX(5px);
}

/* CTA Section */
.cta-section {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border: 1px solid rgba(0,0,0,0.05);
}

/* Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card {
  animation: fadeInUp 0.6s ease-out;
}

.quick-action-card:nth-child(1) { animation-delay: 0.1s; }
.quick-action-card:nth-child(2) { animation-delay: 0.2s; }
.quick-action-card:nth-child(3) { animation-delay: 0.3s; }
.quick-action-card:nth-child(4) { animation-delay: 0.4s; }

/* Responsive */
@media (max-width: 768px) {
  .hero-section {
    padding: 2rem !important;
    text-align: center;
  }
  
  .display-4 {
    font-size: 2.5rem;
  }
  
  .feature-card .card-body {
    padding: 2rem !important;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Quick action cards click handlers
  const quickActions = document.querySelectorAll('.quick-action');
  
  quickActions.forEach(card => {
    card.addEventListener('click', function() {
      const action = this.closest('.quick-action-card').dataset.action;
      handleQuickAction(action);
    });
  });

  // Add click animation
  quickActions.forEach(card => {
    card.addEventListener('mousedown', function() {
      this.style.transform = 'translateY(-8px) scale(0.98)';
    });
    
    card.addEventListener('mouseup', function() {
      this.style.transform = 'translateY(-10px) scale(1)';
    });
  });
});

  function handleQuickAction(action) {
    // Navigation logic with smooth transitions
    switch(action) {
      case 'upload':
        window.location.href = '/ingestion/upload/';
        break;
      case 'dashboard':
        window.location.href = '/ingestion/list/';
        break;
      case 'notificaciones':
        window.location.href = '{% url 'notifications:dashboard' %}';
        break;
      case 'analyze':
        window.location.href = '/ingestion/analyze-chart/';
        break;
    }
  }

function startUpload() {
  window.location.href = '/ingestion/upload/';
}

// Add some interactive effects
document.addEventListener('mousemove', function(e) {
  const cards = document.querySelectorAll('.floating-card');
  cards.forEach(card => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      const rotateX = (y - centerY) / 10;
      const rotateY = (centerX - x) / 10;
      
      card.style.transform = `translateY(-10px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    }
  });


});
</script>

{% endblock %}